# Generated by Django 5.2.1 on 2025-06-06 01:07

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('settings_app', '0007_llmsettings_memory_search_prompt'),
    ]

    operations = [
        migrations.AlterField(
            model_name='llmsettings',
            name='memory_extraction_prompt',
            field=models.TextField(default='You are an automated memory extraction system. Extract user-specific facts, preferences, experiences, and insights as a JSON array.\n\n**OUTPUT REQUIREMENT:**\nYour response must be ONLY a valid JSON array: `[{"content": "...", "tags": [...], "memory_bank": "...", "confidence": float, "context": "...", "connections": [...]}]`\n\n**JSON STRUCTURE:**\n- **content**: The extracted memory/fact\n- **tags**: Flexible, descriptive tags that capture ALL aspects (not limited to predefined categories)\n- **memory_bank**: "Personal", "Professional", "Academic", "Creative", or "General"\n- **confidence**: 0.0-1.0 confidence score\n- **context**: Brief description of the situation/context where this was mentioned\n- **connections**: List of broader topics/themes this memory relates to\n\n**TAGGING GUIDELINES:**\n- Use specific AND general tags\n- Include subject matter tags (music, physics, cooking, etc.)\n- Include preference indicators (loves, dislikes, wants, etc.)\n- Include experience types (attended, performed, learned, etc.)\n- Include emotional context (excited, disappointed, curious, etc.)\n- Think about what future queries might want to find this memory\n\n**EXAMPLES:**\nIf user says "I loved Radiohead\'s performance at Coachella":\n```json\n[{\n  "content": "User loved Radiohead\'s performance at Coachella",\n  "tags": ["music", "radiohead", "coachella", "festival", "live_performance", "rock", "alternative", "favorite_artist", "concert_experience", "loved"],\n  "memory_bank": "Personal",\n  "confidence": 0.95,\n  "context": "Discussing music festival experience",\n  "connections": ["music_taste", "live_music", "festival_experiences", "favorite_bands", "entertainment_preferences"]\n}]\n```\n\nIf user says "I\'m fascinated by quantum entanglement":\n```json\n[{\n  "content": "User is fascinated by quantum entanglement",\n  "tags": ["physics", "quantum_physics", "quantum_entanglement", "science", "fascinated", "academic_interest", "theoretical_physics", "learning"],\n  "memory_bank": "Academic", \n  "confidence": 0.9,\n  "context": "Expressing scientific interests",\n  "connections": ["science_interests", "physics_topics", "learning_preferences", "intellectual_curiosity", "book_recommendations", "educational_content"]\n}]\n```\n\nAnalyze the user message and extract memories with rich, flexible tagging.'),
        ),
        migrations.AlterField(
            model_name='llmsettings',
            name='memory_search_prompt',
            field=models.TextField(default='You are an intelligent memory search system. Generate search queries that capture both direct and indirect connections to find relevant user memories.\n\n**OUTPUT REQUIREMENT:**\nRespond with ONLY a JSON array: `[{"search_query": "...", "confidence": float, "search_type": "...", "rationale": "..."}]`\n\n**SEARCH STRATEGY:**\n1. **Direct queries**: Explicit matches for the user\'s request\n2. **Semantic queries**: Related concepts and broader themes  \n3. **Contextual queries**: Situations where this topic might be relevant\n4. **Experience queries**: Past experiences that inform preferences\n5. **Interest queries**: General interests that connect to the request\n\n**SEARCH TYPES:**\n- "direct": Explicit match to request\n- "semantic": Related concepts/themes\n- "experiential": Past experiences that inform preferences\n- "contextual": Situational relevance\n- "interest": General interests that connect\n\n**EXAMPLES:**\n\nUser asks: "Help me create a playlist"\n```json\n[\n  {"search_query": "user\'s favorite music", "confidence": 1.0, "search_type": "direct", "rationale": "Direct musical preferences"},\n  {"search_query": "user\'s favorite artists", "confidence": 1.0, "search_type": "direct", "rationale": "Specific artist preferences"},\n  {"search_query": "concerts user attended", "confidence": 0.8, "search_type": "experiential", "rationale": "Live music experiences show preferences"},\n  {"search_query": "music user loved", "confidence": 0.9, "search_type": "semantic", "rationale": "Any music they expressed enjoying"},\n  {"search_query": "festivals user went to", "confidence": 0.7, "search_type": "experiential", "rationale": "Festival experiences reveal music taste"},\n  {"search_query": "songs user mentioned", "confidence": 0.8, "search_type": "semantic", "rationale": "Any songs they\'ve referenced"},\n  {"search_query": "user\'s mood preferences", "confidence": 0.6, "search_type": "contextual", "rationale": "Mood affects playlist preferences"}\n]\n```\n\nUser asks: "Recommend some books"\n```json\n[\n  {"search_query": "books user read", "confidence": 1.0, "search_type": "direct", "rationale": "Reading history shows preferences"},\n  {"search_query": "user\'s academic interests", "confidence": 0.8, "search_type": "semantic", "rationale": "Academic interests suggest book topics"},\n  {"search_query": "subjects user is fascinated by", "confidence": 0.9, "search_type": "semantic", "rationale": "Fascination indicates reading interest"},\n  {"search_query": "user\'s hobbies", "confidence": 0.7, "search_type": "contextual", "rationale": "Hobbies suggest relevant book topics"},\n  {"search_query": "topics user wants to learn", "confidence": 0.8, "search_type": "semantic", "rationale": "Learning goals indicate book interests"},\n  {"search_query": "user\'s professional field", "confidence": 0.6, "search_type": "contextual", "rationale": "Career suggests relevant reading"},\n  {"search_query": "sciences user mentioned", "confidence": 0.7, "search_type": "semantic", "rationale": "Scientific interests suggest book topics"}\n]\n```\n\nGenerate comprehensive search queries that find both obvious and subtle connections.'),
        ),
    ]
